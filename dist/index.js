"use strict";var C=Object.create;var i=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var I=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var E=(o,n)=>{for(var e in n)i(o,e,{get:n[e],enumerable:!0})},O=(o,n,e,d)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of S(n))!_.call(o,t)&&t!==e&&i(o,t,{get:()=>n[t],enumerable:!(d=y(n,t))||d.enumerable});return o};var R=(o,n,e)=>(e=o!=null?C(I(o)):{},O(n||!o||!o.__esModule?i(e,"default",{value:o,enumerable:!0}):e,o));var u=require("discord.js");var p=R(require("dotenv"));p.default.config();var{DISCORD_TOKEN:l,DISCORD_CLIENT_ID:f,DB_USER:T,DB_HOSTNAME:w,DB_PASS:N,DB_DATABASE:x}=process.env;if(!l||!f)throw new Error("Missing environment variables");var s={DISCORD_TOKEN:l,DISCORD_CLIENT_ID:f,DB_USER:T,DB_PASS:N,DB_HOSTNAME:w,DB_DATABASE:x};var c={};E(c,{data:()=>B,execute:()=>v});var D=require("discord.js"),B=new D.SlashCommandBuilder().setName("ping").setDescription("Replies with Pong!");async function v(o){return o.reply("Pong!")}var r={ping:c};var m=require("discord.js");var h=Object.values(r).map(o=>o.data),A=new m.REST({version:"10"}).setToken(s.DISCORD_TOKEN);async function g({guildId:o}){try{console.log("Started refreshing application (/) commands."),await A.put(m.Routes.applicationGuildCommands(s.DISCORD_CLIENT_ID,o),{body:h}),console.log("Successfully reloaded application (/) commands.")}catch(n){console.error(n)}}var a=new u.Client({intents:["Guilds","GuildMessages","DirectMessages"]});a.once("ready",()=>{console.log("Bot running")});a.on("guildCreate",async o=>{await g({guildId:o.id})});a.on("interactionCreate",async o=>{if(!o.isCommand())return;let{commandName:n}=o;r[n]&&r[n].execute(o)});a.login(s.DISCORD_TOKEN);
